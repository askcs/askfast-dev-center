define(["app","localization","config"],function(e,t,n){"use strict";e.run(["$rootScope","$location","Offline","Session","Store","$http",function(e,r,i,s,o,u){new i,e.$on("connection",function(){console.log(arguments[1]?"connection lost :[":"connection restored")}),e.app=e.app||{},e.user=e.user||o("app").get("user"),e.setLanguage=function(n){e.app.language=n,e.ui=t.ui[n]},e.setLanguage(n.app.defaults.language),e.config=n.app,u.defaults.headers.common["X-SESSION_ID"]||(u.defaults.headers.common["X-SESSION_ID"]=s.get()),e.$on("$routeChangeStart",function(){}),e.$on("$routeChangeSuccess",function(){}),e.$on("$routeChangeError",function(){})}])});
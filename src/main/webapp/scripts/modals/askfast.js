define(["modals/modals"],function(e){e.factory("AskFast",["$resource","$q","$location","$rootScope",function(e,t,n,r){var i=e(r.config.host+"/:action/:id",{},{register:{method:"GET",params:{action:"register",name:"",username:"",password:"",phone:"",verification:""}},registerVerify:{method:"GET",params:{action:"register_verify",id:"",code:""}},resendVerify:{method:"GET",params:{action:"resend_verify",code:"",verification:""}},login:{method:"GET",params:{action:"login",username:"",password:""}},logout:{method:"GET",params:{action:"logout"}},authorizedApp:{method:"GET",params:{action:"authorized_app"}},info:{method:"GET",params:{action:"info"}},getDialog:{method:"GET",params:{action:"dialog"}},createDialog:{method:"POST",params:{action:"dialog"}},getAdapters:{method:"GET",params:{action:"adapter"}},createAdapter:{method:"POST",params:{action:"adapter",id:""}},freeAdapters:{method:"GET",params:{action:"free_adapters"}},key:{method:"GET",params:{action:"key"}},getAccessToken:{method:"POST",params:{action:"keyserver",id:"token"}}}),s=e("http://char-a-lot.appspot.com/rpc",{},{request:{method:"POST",params:{}}});return i.prototype.contact=function(e){var n=t.defer(),r={message:e.message,sender:e.name+" "+e.surname+" <"+e.email+">",subject:"New message from AskFast, related to: "+e.subject};return s.request({},{method:"outboundCallWithMap",params:{adapterID:"2dbe5b60-154a-11e3-b728-00007f000001",addressMap:{"culusoy@ask-cs.com":"Contact Inquiry"},url:"http://askfastmarket1.appspot.com/resource/question/comment?message="+encodeURIComponent(r.message),publicKey:"",privateKey:"",senderName:r.sender,subject:r.subject}},function(e){n.resolve(e)},function(e){n.resolve(e)}),n.promise},i.prototype.login=function(e,n){var r=t.defer();return i.login.process({username:e,password:n},function(e){angular.equals(e,[])?r.reject("Something went wrong with login!"):r.resolve(e)},function(e){r.resolve(e)}),r.promise},i.prototype.logout=function(){var e=t.defer();return i.process(null,function(t){e.resolve(t)},function(t){e.resolve({error:t})}),e.promise},new i}])});
define(["controllers/controllers","modals/askfast"],function(e,t){e.controller("register",["$scope","$location","AskFast",function(e,t,n){$("body").addClass("register-0"),e.data={user:{name:{first:"",last:"",full:function(){return this.first+" "+this.last}},email:"",phone:""},passwords:{first:"",second:""},verification:"",agreed:!1,validation:{name:{first:!1,last:!1},email:!1,passwords:!1,phone:!1},submitted:!1},e.step={value:null,resolve:Number(t.hash().split("-")[1]),check:function(e){return this.value===e},validate:function(t){var n=!0;switch(t){case 1:e.data.submitted=!0,e.data.validation.name.first=e.data.user.name.first=="",e.data.validation.name.last=e.data.user.name.last=="",e.data.validation.email=e.data.user.email=="",e.data.validation.passwords=e.data.passwords.first==""||e.data.passwords.second==""||e.data.passwords.first!=e.data.passwords.second,e.data.validation.first||e.data.validation.last||e.data.validation.email||e.data.validation.passwords;break;case 2:break;case 3:break;default:}return n},forward:function(){var e=this.resolve;this.validate(e)&&(this.value=Number(e+1),t.hash("step-"+this.value))}},e.$watch("$location",function(){$("body").removeClass();switch(e.step.resolve){case 1:$("body").addClass("register-0");break;case 2:$("body").addClass("register-1");break;case 3:$("body").addClass("register-1");break;case 4:$("body").addClass("register-3");break;default:}}),e.step.value=e.step.resolve}])});